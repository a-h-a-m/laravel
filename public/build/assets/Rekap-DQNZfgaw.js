import{a as u,r as f,m as h,R as e}from"./app-p2sGRXNR.js";async function b({id:s,nama:n,bulan:a,wa:c},o,p){const t=new Date().getFullYear(),r={to:c.replace(/^08/,"628"),url:`https://haspi.appdev.my.id/files/${a}-${t}-${s}.pdf`,text:p,filename:`Rekapitulasi ${a} ${t}_${n}.pdf`};try{const l=await u.post("https://api.chat-wa.com/message/send-document",r,{headers:{"x-api-key":o,"Content-Type":"application/json"}})}catch{throw new Error(null)}}function g({word:s,year:n,month:a,test:c=!1}){const[o,p]=f.useState(!1),{data:t,setData:r,get:l}=h({q:null}),i=new URLSearchParams(window.location.search);i.get("q")&&!o&&(r({q:i.get("q")}),p(!0));function d(m){m.preventDefault(),l("/admin/rekap",{preserveState:!0})}return e.createElement("form",{onSubmit:d,method:"GET"},e.createElement("div",{className:"form-group"},e.createElement("div",{className:"input-group mb-3"},e.createElement("div",{className:"input-group-prepend"},e.createElement("a",{href:`/admin/rekap/create?t=${n}&b=${a}&c=${c}`,className:"btn btn-primary",style:{paddingTop:"10px"}},e.createElement("i",{className:"fa fa-plus-circle"})," Tambah")),e.createElement("input",{type:"text",className:"form-control",placeholder:`Cari berdasarkan ${s}`,value:t.q,onChange:m=>r("q",m.target.value)}),e.createElement("div",{className:"input-group-append"},e.createElement("button",{type:"submit",className:"btn btn-primary"},e.createElement("i",{className:"fa fa-search"})," CARI")))))}export{g as R,b as s};

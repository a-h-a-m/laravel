import{r as a,a as l,R as e,L as h}from"./app-CJkt09Ir.js";import{S as g}from"./SectionHeader-DG4EjazD.js";import{R as f}from"./Row-2ODlObou.js";function S({waApiKey:m,waDeviceId:p,waAccessToken:u}){const[n,c]=a.useState(null),[s,o]=a.useState(!1),[d,r]=a.useState("http://localhost:8000/wa.jpg"),i=()=>{r("http://localhost:8000/wa.jpg"),o(!0),l.get(`https://api.chat-wa.com/whatsapp-device/new-session/${p}`,{headers:{Authorization:`Bearer ${u}`}}).then(t=>{o("img"),r(t.data.data.qrCode)})};return a.useEffect(()=>{l.get("https://api.chat-wa.com/message/check-number/6285877035941",{headers:{"x-api-key":m}}).then(t=>{t.data.success&&c("Whatsapp device status is connected")}).catch(t=>{c(t.response.data.message),i()})},[]),e.createElement(e.Fragment,null,e.createElement(h,{title:"Akun Whatsapp"}),e.createElement(g,{title:"Akun Whatsapp"}),s==="img"&&e.createElement("button",{className:"btn btn-warning",onClick:i},"Reload QR Code"),e.createElement(f,null,e.createElement("img",{src:d})),e.createElement("div",null,n||"Loading..."),s&&s!=="img"&&e.createElement("div",null,"Waiting for QR Code..."))}export{S as default};

import{r as a,a as p,R as e,L as h}from"./app-p2sGRXNR.js";import{S as g}from"./SectionHeader-xSVcNPsP.js";import{R as f}from"./Row-DypNBgcS.js";function v({waApiKey:m,waDeviceId:l,waAccessToken:d}){const[n,i]=a.useState(null),[s,r]=a.useState(!1),[u,c]=a.useState("https://haspi.appdev.my.id/wa.jpg"),o=()=>{c("https://haspi.appdev.my.id/wa.jpg"),r(!0),p.get(`https://api.chat-wa.com/whatsapp-device/new-session/${l}`,{headers:{Authorization:`Bearer ${d}`}}).then(t=>{r("img"),c(t.data.data.qrCode)})};return a.useEffect(()=>{p.get("https://api.chat-wa.com/message/check-number/6285877035941",{headers:{"x-api-key":m}}).then(t=>{t.data.success&&i("Whatsapp device status is connected")}).catch(t=>{i(t.response.data.message),o()})},[]),e.createElement(e.Fragment,null,e.createElement(h,{title:"Akun Whatsapp"}),e.createElement(g,{title:"Akun Whatsapp"}),s==="img"&&e.createElement("button",{className:"btn btn-warning",onClick:o},"Reload QR Code"),e.createElement(f,null,e.createElement("img",{src:u})),e.createElement("div",null,n||"Loading..."),s&&s!=="img"&&e.createElement("div",null,"Waiting for QR Code..."))}export{v as default};
